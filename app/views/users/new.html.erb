<div class="body"><!-- Body -->

<div class="main buMain"><!-- Main Content -->
			<div class="standardForm backgroundCyan borderGray" style="width:35em;">
			<% form_for @user, :url => account_path do |f| %>
				<h2><strong>注册</strong></h2>

				<label for="user_login">
					用户名<br />
					<%= f.text_field :login ,:class => 'text em20',:tabindex => '1',:size => '20' %>
					<span class="fieldDesc">2~20个字符,全站唯一,不可重复.</span>
				</label>

				<label for="user_email">
					Email<br />
					<%= f.text_field :email ,:class => 'text em20',:tabindex => '2' %>
					<span class="fieldDesc">真实的Email,我们会发信去验证的 :)</span>
				</label>

				<label for="password">
					密码 <a href="/forgot_password">(忘记密码?)</a><br />
					<%= f.password_field :password ,:class => 'text em20',:tabindex => '3' %>
					<span class="fieldDesc">最少4位,要记牢哦.</span>
				</label>
				 

				<label>
					<input name="commit" tabindex="4" type="submit" value="注册" />
				</label>
			<% end %>
			</div>
		</div>
		<script type="text/javascript" src="/javascripts/jquery-validate/jquery.validate.js"></script>
		<script type="text/javascript">
			$(document).ready(function() {
				var validator = $("#new_user").validate({
					rules: {
						'user[login]': {
							required: true,
							minlength: 2,
							maxlength: 20,
							remote: '/users/login'
						},
						'user[email]': {
							required: true,
							email: true,
							remote: '/users/email'
						},
						'user[password]': {
							required: true,
							minlength: 4,
							maxlength: 20
						}
					},
					messages: {
						'user[login]': {
							required: "用户名不能为空",
							minlength: "用户名最少2个字符",
							maxlength: "用户名最多20个字符",
							remote:　　"用户名已经被使用"
						},
						'user[email]': {
							required: "Email不能为空",
							email: "需要有效的Email地址",
							remote: "Email已经被使用"
						},
						'user[password]': {
							required: "密码不能为空",
							minlength: "密码最少4个字符",
							maxlength: "密码最多20个字符"
						},
					},
					
					errorElement: 'span',
					success: function(span) {
						// set &nbsp; as text for IE
						span.html("&nbsp;").addClass("valid");
					}

				});
			});
		</script>

</div>